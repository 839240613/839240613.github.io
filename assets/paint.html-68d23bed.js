import{_ as n}from"./plugin-vue_export-helper-c27b6911.js";import{o as s,c as a,e as t}from"./app-e4bb05b4.js";const p={},o=t(`<h2 id="qwidget�滭" tabindex="-1"><a class="header-anchor" href="#qwidget�滭" aria-hidden="true">#</a> QWidget�滭</h2><ol><li>���ú�painter</li><li>���úû�������</li><li>���ú�pen</li><li>���ú�brush</li><li>���ú�font</li><li>deawRectʹ��</li></ol><div class="language-c line-numbers-mode" data-ext="c"><pre class="language-c"><code><span class="token keyword">void</span> MainWindow<span class="token operator">::</span><span class="token function">paintEvent</span><span class="token punctuation">(</span>QPaintEvent <span class="token operator">*</span>event<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    QPainter <span class="token function">painter</span><span class="token punctuation">(</span>this<span class="token punctuation">)</span><span class="token punctuation">;</span>
    painter<span class="token punctuation">.</span><span class="token function">setRenderHint</span><span class="token punctuation">(</span>QPainter<span class="token operator">::</span>Antialiasing<span class="token punctuation">)</span><span class="token punctuation">;</span>
    painter<span class="token punctuation">.</span><span class="token function">setRenderHint</span><span class="token punctuation">(</span>QPainter<span class="token operator">::</span>TextAntialiasing<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">int</span> W <span class="token operator">=</span> this<span class="token operator">-&gt;</span><span class="token function">width</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">int</span> H <span class="token operator">=</span> this<span class="token operator">-&gt;</span><span class="token function">height</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    QRect <span class="token function">rect</span><span class="token punctuation">(</span>W<span class="token operator">/</span><span class="token number">4</span><span class="token punctuation">,</span>H<span class="token operator">/</span><span class="token number">4</span><span class="token punctuation">,</span>W<span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">,</span>H<span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token comment">//�м�������ο�</span>

    <span class="token comment">// ���û���</span>
    QPen pen<span class="token punctuation">;</span>
    pen<span class="token punctuation">.</span><span class="token function">setWidth</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    pen<span class="token punctuation">.</span><span class="token function">setColor</span><span class="token punctuation">(</span>Qt<span class="token operator">::</span>yellow<span class="token punctuation">)</span><span class="token punctuation">;</span>                                          <span class="token comment">// �߿�</span>
    pen<span class="token punctuation">.</span><span class="token function">setStyle</span><span class="token punctuation">(</span>Qt<span class="token operator">::</span>SolidLine<span class="token punctuation">)</span><span class="token punctuation">;</span>                                       <span class="token comment">// ��ˢ�����ʽ</span>
    pen<span class="token punctuation">.</span><span class="token function">setCapStyle</span><span class="token punctuation">(</span>Qt<span class="token operator">::</span>FlatCap<span class="token punctuation">)</span><span class="token punctuation">;</span>                                      <span class="token comment">// �߶˵���ʽ</span>
    painter<span class="token punctuation">.</span><span class="token function">setPen</span><span class="token punctuation">(</span>pen<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// ���û�ˢ</span>
    QBrush brush<span class="token punctuation">;</span>
    brush<span class="token punctuation">.</span><span class="token function">setColor</span><span class="token punctuation">(</span>Qt<span class="token operator">::</span>yellow<span class="token punctuation">)</span><span class="token punctuation">;</span>
    brush<span class="token punctuation">.</span><span class="token function">setStyle</span><span class="token punctuation">(</span>Qt<span class="token operator">::</span>SolidPattern<span class="token punctuation">)</span><span class="token punctuation">;</span>
    painter<span class="token punctuation">.</span><span class="token function">setBrush</span><span class="token punctuation">(</span>brush<span class="token punctuation">)</span><span class="token punctuation">;</span>

    painter<span class="token punctuation">.</span><span class="token function">drawRect</span><span class="token punctuation">(</span>rect<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="�򵥽���ʽ���ի滭" tabindex="-1"><a class="header-anchor" href="#�򵥽���ʽ���ի滭" aria-hidden="true">#</a> �򵥽���ʽ���Ի滭</h3><p>ʹ��QGradientʵ�ֽ���ʽ</p><p>������</p><ul><li><p>QLinearGradient ���Խ���</p></li><li><p>QRadialGradient ���佥��</p></li><li><p>QConicalGradient Բ׶����</p></li><li><p>PasSpreadģʽ���ý��������ɫ����ⲿ��������ȱʡ�ķ�ʽ</p></li><li><p>RepeatSpreadģʽ���ظ�ʹ�ý��䷽ʽ����ⲿ����</p></li><li><p>PeflectSpreadģʽ�Ƿ��佥�䷽ʽ����ⲿ����</p></li></ul><div class="language-c line-numbers-mode" data-ext="c"><pre class="language-c"><code>QPainter <span class="token function">painter</span><span class="token punctuation">(</span>this<span class="token punctuation">)</span><span class="token punctuation">;</span>
    painter<span class="token punctuation">.</span><span class="token function">setRenderHint</span><span class="token punctuation">(</span>QPainter<span class="token operator">::</span>Antialiasing<span class="token punctuation">)</span><span class="token punctuation">;</span>
    painter<span class="token punctuation">.</span><span class="token function">setRenderHint</span><span class="token punctuation">(</span>QPainter<span class="token operator">::</span>TextAntialiasing<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">int</span> W <span class="token operator">=</span> this<span class="token operator">-&gt;</span><span class="token function">width</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">int</span> H <span class="token operator">=</span> this<span class="token operator">-&gt;</span><span class="token function">height</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//    QRadialGradient radialGrad(W/2,H/2,qMax(W/8,H/8),W/2,H/2);</span>
<span class="token comment">//    radialGrad.setColorAt(0,Qt::green);</span>
<span class="token comment">//    radialGrad.setColorAt(1,Qt::blue);</span>
<span class="token comment">//    radialGrad.setSpread(QGradient::ReflectSpread);</span>
<span class="token comment">//    painter.setBrush(radialGrad);</span>

<span class="token comment">//    QLinearGradient linearGrad(this-&gt;rect().left(),this-&gt;rect().top(),this-&gt;rect().right(),this-&gt;rect().bottom());</span>
<span class="token comment">//    linearGrad.setColorAt(0,Qt::green);</span>
<span class="token comment">//    linearGrad.setColorAt(0.5,Qt::yellow);</span>
<span class="token comment">//    linearGrad.setColorAt(1,Qt::red);</span>
<span class="token comment">//    linearGrad.setSpread(QGradient::ReflectSpread);</span>
<span class="token comment">//    painter.setBrush(linearGrad);</span>

    QConicalGradient <span class="token function">Conical</span><span class="token punctuation">(</span>W<span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">,</span>H<span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                       <span class="token comment">// �ǿ�ʼ��ֵ�ĽǶȡ�</span>
        Conical<span class="token punctuation">.</span><span class="token function">setColorAt</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span>Qt<span class="token operator">::</span>green<span class="token punctuation">)</span><span class="token punctuation">;</span>
        Conical<span class="token punctuation">.</span><span class="token function">setColorAt</span><span class="token punctuation">(</span><span class="token number">0.5</span><span class="token punctuation">,</span>Qt<span class="token operator">::</span>yellow<span class="token punctuation">)</span><span class="token punctuation">;</span>
        Conical<span class="token punctuation">.</span><span class="token function">setColorAt</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span>Qt<span class="token operator">::</span>white<span class="token punctuation">)</span><span class="token punctuation">;</span>
        painter<span class="token punctuation">.</span><span class="token function">setBrush</span><span class="token punctuation">(</span>Conical<span class="token punctuation">)</span><span class="token punctuation">;</span>

    painter<span class="token punctuation">.</span><span class="token function">drawRect</span><span class="token punctuation">(</span>this<span class="token operator">-&gt;</span><span class="token function">rect</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>             <span class="token comment">//�涨�Ļ����Ƚϴ���ô�ͻ����ģʽ����ⲿ����ɫ</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="qgraphicview�滭" tabindex="-1"><a class="header-anchor" href="#qgraphicview�滭" aria-hidden="true">#</a> QGraphicView�滭</h2><p>scene����View�����Լ������ġ�</p><h3 id="mainwindow-h�l�" tabindex="-1"><a class="header-anchor" href="#mainwindow-h�l�" aria-hidden="true">#</a> MainWindow.h�ļ�</h3><div class="language-c line-numbers-mode" data-ext="c"><pre class="language-c"><code><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">ifndef</span> <span class="token expression">MAINWINDOW_H</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">MAINWINDOW_H</span></span>

<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;QMainWindow&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;QPainter&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;Qt&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;QGradient&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;QtGlobal&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;QLabel&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;QGraphicsScene&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;QGraphicsEllipseItem&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;QGraphicsRectItem&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&quot;qgraphicsvuew.h&quot;</span></span>

QT_BEGIN_NAMESPACE
namespace Ui <span class="token punctuation">{</span> class MainWindow<span class="token punctuation">;</span> <span class="token punctuation">}</span>
QT_END_NAMESPACE

class MainWindow <span class="token operator">:</span> public QMainWindow
<span class="token punctuation">{</span>
    Q_OBJECT

public<span class="token operator">:</span>
    <span class="token function">MainWindow</span><span class="token punctuation">(</span>QWidget <span class="token operator">*</span>parent <span class="token operator">=</span> nullptr<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token operator">~</span><span class="token function">MainWindow</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>


private<span class="token operator">:</span>
    Ui<span class="token operator">::</span>MainWindow <span class="token operator">*</span>ui<span class="token punctuation">;</span>
    QLabel<span class="token operator">*</span> labViewCord<span class="token punctuation">;</span>
    QLabel<span class="token operator">*</span> labSceneCord<span class="token punctuation">;</span>
    QGraphicsScene<span class="token operator">*</span> scene<span class="token punctuation">;</span>
    QLabel<span class="token operator">*</span> labItemCord<span class="token punctuation">;</span>

    <span class="token keyword">void</span> <span class="token function">initGraphicsSystem</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                              <span class="token comment">//����Graphics Veiw�ĸ���</span>

protected<span class="token operator">:</span>
    <span class="token keyword">void</span> <span class="token function">resizeEvent</span><span class="token punctuation">(</span>QResizeEvent<span class="token operator">*</span> event<span class="token punctuation">)</span><span class="token punctuation">;</span>                  <span class="token comment">// resizeEvent</span>

private slots<span class="token operator">:</span>
    <span class="token keyword">void</span> <span class="token function">on_mouseMovePoint</span><span class="token punctuation">(</span>QPoint point<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">void</span> <span class="token function">on_mouseClicked</span><span class="token punctuation">(</span>QPoint point<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">endif</span> <span class="token comment">// MAINWINDOW_H</span></span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="qgraphicsvuew-h" tabindex="-1"><a class="header-anchor" href="#qgraphicsvuew-h" aria-hidden="true">#</a> qgraphicsvuew.h</h3><div class="language-c line-numbers-mode" data-ext="c"><pre class="language-c"><code><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">ifndef</span> <span class="token expression">QGRAPHICSVUEW_H</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">QGRAPHICSVUEW_H</span></span>

<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;QObject&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;QGraphicsView&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;QPainter&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;QMouseEvent&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;QWidget&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;QDebug&gt;</span></span>

class QGraphicsVuew <span class="token operator">:</span>public QGraphicsView
<span class="token punctuation">{</span>
    Q_OBJECT
public<span class="token operator">:</span>
    <span class="token function">QGraphicsVuew</span><span class="token punctuation">(</span>QWidget<span class="token operator">*</span> parent <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
protected<span class="token operator">:</span>
    <span class="token keyword">void</span> <span class="token function">mouseMoveEvent</span><span class="token punctuation">(</span>QMouseEvent <span class="token operator">*</span>event<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">void</span> <span class="token function">mousePressEvent</span><span class="token punctuation">(</span>QMouseEvent <span class="token operator">*</span>event<span class="token punctuation">)</span><span class="token punctuation">;</span>

signals<span class="token operator">:</span>
    <span class="token keyword">void</span> <span class="token function">mouseMovePoint</span><span class="token punctuation">(</span>QPoint point<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">void</span> <span class="token function">mouseClicked</span><span class="token punctuation">(</span>QPoint point<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">endif</span> <span class="token comment">// QGRAPHICSVUEW_H</span></span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="mianwindwo-c" tabindex="-1"><a class="header-anchor" href="#mianwindwo-c" aria-hidden="true">#</a> MianWindwo.c</h3><div class="language-c line-numbers-mode" data-ext="c"><pre class="language-c"><code><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&quot;mainwindow.h&quot;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&quot;ui_mainwindow.h&quot;</span></span>


MainWindow<span class="token operator">::</span><span class="token function">MainWindow</span><span class="token punctuation">(</span>QWidget <span class="token operator">*</span>parent<span class="token punctuation">)</span>
    <span class="token operator">:</span> <span class="token function">QMainWindow</span><span class="token punctuation">(</span>parent<span class="token punctuation">)</span>
    <span class="token punctuation">,</span> <span class="token function">ui</span><span class="token punctuation">(</span>new Ui<span class="token operator">::</span>MainWindow<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    ui<span class="token operator">-&gt;</span><span class="token function">setupUi</span><span class="token punctuation">(</span>this<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// ����״̬��</span>
    labViewCord <span class="token operator">=</span> new <span class="token function">QLabel</span><span class="token punctuation">(</span><span class="token string">&quot;View ����&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    labViewCord <span class="token operator">-&gt;</span> <span class="token function">setMinimumWidth</span><span class="token punctuation">(</span><span class="token number">150</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    ui<span class="token operator">-&gt;</span>statusbar<span class="token operator">-&gt;</span><span class="token function">addWidget</span><span class="token punctuation">(</span>labViewCord<span class="token punctuation">)</span><span class="token punctuation">;</span>

    labSceneCord <span class="token operator">=</span> new <span class="token function">QLabel</span><span class="token punctuation">(</span><span class="token string">&quot;View ����&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    labSceneCord <span class="token operator">-&gt;</span> <span class="token function">setMinimumWidth</span><span class="token punctuation">(</span><span class="token number">150</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    ui<span class="token operator">-&gt;</span>statusbar<span class="token operator">-&gt;</span><span class="token function">addWidget</span><span class="token punctuation">(</span>labSceneCord<span class="token punctuation">)</span><span class="token punctuation">;</span>

    labItemCord <span class="token operator">=</span> new <span class="token function">QLabel</span><span class="token punctuation">(</span><span class="token string">&quot;View ����&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    labItemCord <span class="token operator">-&gt;</span> <span class="token function">setMinimumWidth</span><span class="token punctuation">(</span><span class="token number">150</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    ui<span class="token operator">-&gt;</span>statusbar<span class="token operator">-&gt;</span><span class="token function">addWidget</span><span class="token punctuation">(</span>labItemCord<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// GraphicsView������</span>

    ui<span class="token operator">-&gt;</span>graphicsView<span class="token operator">-&gt;</span><span class="token function">setCursor</span><span class="token punctuation">(</span>Qt<span class="token operator">::</span>CrossCursor<span class="token punctuation">)</span><span class="token punctuation">;</span>                                 <span class="token comment">// ����graphicsView�е������ʽ</span>
    ui<span class="token operator">-&gt;</span>graphicsView<span class="token operator">-&gt;</span><span class="token function">setMouseTracking</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                                        <span class="token comment">// ���������٣���û�а�������ʱ��Ҳ��������λ��</span>
    ui<span class="token operator">-&gt;</span>graphicsView<span class="token operator">-&gt;</span><span class="token function">setDragMode</span><span class="token punctuation">(</span>QGraphicsView<span class="token operator">::</span>RubberBandDrag<span class="token punctuation">)</span><span class="token punctuation">;</span>                 <span class="token comment">// �����϶�ģʽ���϶���ʱ�������Ƥ��</span>

    <span class="token comment">// �ź��������</span>
    <span class="token function">connect</span><span class="token punctuation">(</span>ui<span class="token operator">-&gt;</span>graphicsView<span class="token punctuation">,</span><span class="token function">SIGNAL</span><span class="token punctuation">(</span><span class="token function">mouseMovePoint</span><span class="token punctuation">(</span>QPoint<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>this<span class="token punctuation">,</span><span class="token function">SLOT</span><span class="token punctuation">(</span><span class="token function">on_mouseMovePoint</span><span class="token punctuation">(</span>QPoint<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">connect</span><span class="token punctuation">(</span>ui<span class="token operator">-&gt;</span>graphicsView<span class="token punctuation">,</span><span class="token function">SIGNAL</span><span class="token punctuation">(</span><span class="token function">mouseClicked</span><span class="token punctuation">(</span>QPoint<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>this<span class="token punctuation">,</span><span class="token function">SLOT</span><span class="token punctuation">(</span><span class="token function">on_mouseClicked</span><span class="token punctuation">(</span>QPoint<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// graphicsView��ʼ��</span>
    <span class="token function">initGraphicsSystem</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

MainWindow<span class="token operator">::</span><span class="token operator">~</span><span class="token function">MainWindow</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    delete ui<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">void</span> MainWindow<span class="token operator">::</span><span class="token function">on_mouseMovePoint</span><span class="token punctuation">(</span>QPoint point<span class="token punctuation">)</span>
<span class="token punctuation">{</span>

    labViewCord<span class="token operator">-&gt;</span><span class="token function">setText</span><span class="token punctuation">(</span>QString<span class="token operator">::</span><span class="token function">asprintf</span><span class="token punctuation">(</span><span class="token string">&quot;View ����: %d %d&quot;</span><span class="token punctuation">,</span>point<span class="token punctuation">.</span><span class="token function">x</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>point<span class="token punctuation">.</span><span class="token function">y</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    QPointF pointScene <span class="token operator">=</span> ui<span class="token operator">-&gt;</span>graphicsView<span class="token operator">-&gt;</span><span class="token function">mapToScene</span><span class="token punctuation">(</span>point<span class="token punctuation">)</span><span class="token punctuation">;</span>
    labSceneCord<span class="token operator">-&gt;</span><span class="token function">setText</span><span class="token punctuation">(</span>QString<span class="token operator">::</span><span class="token function">asprintf</span><span class="token punctuation">(</span><span class="token string">&quot;Scene ����: %0.f %0.f&quot;</span><span class="token punctuation">,</span>pointScene<span class="token punctuation">.</span><span class="token function">x</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>pointScene<span class="token punctuation">.</span><span class="token function">y</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">void</span> MainWindow<span class="token operator">::</span><span class="token function">on_mouseClicked</span><span class="token punctuation">(</span>QPoint point<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    QPointF pointScene <span class="token operator">=</span> ui<span class="token operator">-&gt;</span>graphicsView<span class="token operator">-&gt;</span><span class="token function">mapToScene</span><span class="token punctuation">(</span>point<span class="token punctuation">)</span><span class="token punctuation">;</span>                                         <span class="token comment">//ʹ�ø����������ͼ�¼</span>
    QGraphicsItem<span class="token operator">*</span> Item <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>   
    Item <span class="token operator">=</span> scene<span class="token operator">-&gt;</span><span class="token function">itemAt</span><span class="token punctuation">(</span>pointScene<span class="token punctuation">,</span>ui<span class="token operator">-&gt;</span>graphicsView<span class="token operator">-&gt;</span><span class="token function">transform</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                                   <span class="token comment">// �߼�����              </span>

    <span class="token keyword">if</span><span class="token punctuation">(</span>Item <span class="token operator">!=</span> nullptr<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        QPointF pointItem <span class="token operator">=</span> Item <span class="token operator">-&gt;</span> <span class="token function">mapFromScene</span><span class="token punctuation">(</span>pointScene<span class="token punctuation">)</span><span class="token punctuation">;</span>
        labItemCord<span class="token operator">-&gt;</span><span class="token function">setText</span><span class="token punctuation">(</span>QString<span class="token operator">::</span><span class="token function">asprintf</span><span class="token punctuation">(</span><span class="token string">&quot;Item ���꣺ %.0f % .0f&quot;</span><span class="token punctuation">,</span>pointItem<span class="token punctuation">.</span><span class="token function">x</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>pointItem<span class="token punctuation">.</span><span class="token function">y</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">void</span> MainWindow<span class="token operator">::</span><span class="token function">resizeEvent</span><span class="token punctuation">(</span>QResizeEvent <span class="token operator">*</span>event<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    ui<span class="token operator">-&gt;</span>label<span class="token operator">-&gt;</span><span class="token function">setText</span><span class="token punctuation">(</span>QString<span class="token operator">::</span><span class="token function">asprintf</span><span class="token punctuation">(</span><span class="token string">&quot;Graphics View���꣬���Ͻ�����(0,0)������ = %d���߶� = %d&quot;</span><span class="token punctuation">,</span>ui<span class="token operator">-&gt;</span>graphicsView<span class="token operator">-&gt;</span><span class="token function">width</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>ui<span class="token operator">-&gt;</span>graphicsView<span class="token operator">-&gt;</span><span class="token function">height</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    QRectF rect <span class="token operator">=</span> ui<span class="token operator">-&gt;</span>graphicsView<span class="token operator">-&gt;</span><span class="token function">sceneRect</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                    <span class="token comment">//scene������</span>

    ui<span class="token operator">-&gt;</span>label_2<span class="token operator">-&gt;</span><span class="token function">setText</span><span class="token punctuation">(</span>QString<span class="token operator">::</span><span class="token function">asprintf</span><span class="token punctuation">(</span><span class="token string">&quot;QGraphicsVeiw::sceneRect��Left,Top,Width,Height�� = %.0f,%.0f,%.0f,%.0f&quot;</span>
                                                             <span class="token punctuation">,</span>rect<span class="token punctuation">.</span><span class="token function">left</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>rect<span class="token punctuation">.</span><span class="token function">top</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>rect<span class="token punctuation">.</span><span class="token function">width</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>rect<span class="token punctuation">.</span><span class="token function">height</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">void</span> MainWindow<span class="token operator">::</span><span class="token function">initGraphicsSystem</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token comment">//����Graphics View����</span>
    QRectF <span class="token function">rect</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">200</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">100</span><span class="token punctuation">,</span><span class="token number">400</span><span class="token punctuation">,</span><span class="token number">200</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    scene <span class="token operator">=</span> new <span class="token function">QGraphicsScene</span><span class="token punctuation">(</span>rect<span class="token punctuation">)</span><span class="token punctuation">;</span>                   <span class="token comment">//scene �߼�����ϵ</span>
    ui<span class="token operator">-&gt;</span>graphicsView<span class="token operator">-&gt;</span><span class="token function">setScene</span><span class="token punctuation">(</span>scene<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">//��һ�����ο򣬴�С����scene</span>
    QGraphicsRectItem<span class="token operator">*</span> item <span class="token operator">=</span> new <span class="token function">QGraphicsRectItem</span><span class="token punctuation">(</span>rect<span class="token punctuation">)</span><span class="token punctuation">;</span>
    item<span class="token operator">-&gt;</span><span class="token function">setFlags</span><span class="token punctuation">(</span>QGraphicsItem<span class="token operator">::</span>ItemIsSelectable <span class="token operator">|</span> QGraphicsItem<span class="token operator">::</span>ItemIsFocusable<span class="token punctuation">)</span><span class="token punctuation">;</span>

    QPen pen<span class="token punctuation">;</span>
    pen<span class="token punctuation">.</span><span class="token function">setWidth</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    item<span class="token operator">-&gt;</span><span class="token function">setPen</span><span class="token punctuation">(</span>pen<span class="token punctuation">)</span><span class="token punctuation">;</span>
    scene<span class="token operator">-&gt;</span><span class="token function">addItem</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">//��һ��λ��scene���ĵ���Բ�����Ծֲ�����</span>
    QGraphicsEllipseItem<span class="token operator">*</span> item2 <span class="token operator">=</span> new <span class="token function">QGraphicsEllipseItem</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">100</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">50</span><span class="token punctuation">,</span><span class="token number">200</span><span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    item2<span class="token operator">-&gt;</span><span class="token function">setPos</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    item2<span class="token operator">-&gt;</span><span class="token function">setBrush</span><span class="token punctuation">(</span><span class="token function">QBrush</span><span class="token punctuation">(</span>Qt<span class="token operator">::</span>blue<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    item2<span class="token operator">-&gt;</span><span class="token function">setFlags</span><span class="token punctuation">(</span>QGraphicsItem<span class="token operator">::</span>ItemIsMovable <span class="token operator">|</span> QGraphicsItem<span class="token operator">::</span>ItemIsSelectable <span class="token operator">|</span> QGraphicsItem<span class="token operator">::</span>ItemIsFocusable<span class="token punctuation">)</span><span class="token punctuation">;</span>
    scene<span class="token operator">-&gt;</span><span class="token function">addItem</span><span class="token punctuation">(</span>item2<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">//��һ��Բ������λ��scene�ı�Ե</span>
    QGraphicsEllipseItem<span class="token operator">*</span> item3 <span class="token operator">=</span> new <span class="token function">QGraphicsEllipseItem</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">50</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">50</span><span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    item3<span class="token operator">-&gt;</span><span class="token function">setPos</span><span class="token punctuation">(</span>rect<span class="token punctuation">.</span><span class="token function">right</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>rect<span class="token punctuation">.</span><span class="token function">bottom</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    item3<span class="token operator">-&gt;</span><span class="token function">setBrush</span><span class="token punctuation">(</span><span class="token function">QBrush</span><span class="token punctuation">(</span>Qt<span class="token operator">::</span>blue<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    item3<span class="token operator">-&gt;</span><span class="token function">setFlags</span><span class="token punctuation">(</span>QGraphicsItem<span class="token operator">::</span>ItemIsMovable <span class="token operator">|</span> QGraphicsItem<span class="token operator">::</span>ItemIsSelectable <span class="token operator">|</span> QGraphicsItem<span class="token operator">::</span>ItemIsFocusable<span class="token punctuation">)</span><span class="token punctuation">;</span>
    scene<span class="token operator">-&gt;</span><span class="token function">addItem</span><span class="token punctuation">(</span>item3<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token punctuation">}</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="qgraphicsvuew-c" tabindex="-1"><a class="header-anchor" href="#qgraphicsvuew-c" aria-hidden="true">#</a> qgraphicsvuew.c</h3><div class="language-c line-numbers-mode" data-ext="c"><pre class="language-c"><code><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&quot;qgraphicsvuew.h&quot;</span></span>

QGraphicsVuew<span class="token operator">::</span><span class="token function">QGraphicsVuew</span><span class="token punctuation">(</span>QWidget<span class="token operator">*</span> parent<span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token function">QGraphicsView</span><span class="token punctuation">(</span>parent<span class="token punctuation">)</span>
<span class="token punctuation">{</span>

<span class="token punctuation">}</span>


<span class="token keyword">void</span> QGraphicsVuew<span class="token operator">::</span><span class="token function">mouseMoveEvent</span><span class="token punctuation">(</span>QMouseEvent <span class="token operator">*</span>event<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    QPoint point <span class="token operator">=</span> event<span class="token operator">-&gt;</span><span class="token function">pos</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">qDebug</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">&lt;&lt;</span>point<span class="token punctuation">;</span>
    emit <span class="token function">mouseMovePoint</span><span class="token punctuation">(</span>point<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">return</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>


<span class="token keyword">void</span> QGraphicsVuew<span class="token operator">::</span><span class="token function">mousePressEvent</span><span class="token punctuation">(</span>QMouseEvent <span class="token operator">*</span>event<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token comment">// �����������¼�</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>event<span class="token operator">-&gt;</span><span class="token function">button</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> Qt<span class="token operator">::</span>LeftButton<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        QPoint point <span class="token operator">=</span> event<span class="token operator">-&gt;</span><span class="token function">pos</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        emit <span class="token function">mouseClicked</span><span class="token punctuation">(</span>point<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//�����ź�</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span><span class="token punctuation">;</span>

<span class="token punctuation">}</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="�򵥵�ͼ��о��" tabindex="-1"><a class="header-anchor" href="#�򵥵�ͼ��о��" aria-hidden="true">#</a> �򵥵�ͼ��Ӧ��</h2><div class="language-c line-numbers-mode" data-ext="c"><pre class="language-c"><code>    <span class="token keyword">static</span> <span class="token keyword">const</span> <span class="token keyword">int</span> ItemId <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>                                <span class="token comment">// ͼ�����Զ������ݵ�Key</span>
    <span class="token keyword">static</span> <span class="token keyword">const</span> <span class="token keyword">int</span> ItemDesciption <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>                        <span class="token comment">// ͼ�����Զ������ݵ�Key</span>
    <span class="token keyword">int</span> seqNum <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>                                             <span class="token comment">// ͼ������</span>
    <span class="token keyword">int</span> frontZ <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>                                             <span class="token comment">// ����ͼ����ĵ���˳��</span>
    <span class="token keyword">int</span> backZ <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>                                              <span class="token comment">// ����ͼ����ĵ���˳��</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="cpp����" tabindex="-1"><a class="header-anchor" href="#cpp����" aria-hidden="true">#</a> Cpp����</h3><div class="language-c line-numbers-mode" data-ext="c"><pre class="language-c"><code><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&quot;mainwindow.h&quot;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&quot;ui_mainwindow.h&quot;</span></span>

<span class="token comment">//1. ѡ����item��</span>

template<span class="token operator">&lt;</span>class T<span class="token operator">&gt;</span> <span class="token keyword">void</span> <span class="token function">setBrushColor</span><span class="token punctuation">(</span>T<span class="token operator">*</span> item<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    QColor color <span class="token operator">=</span> item<span class="token operator">-&gt;</span><span class="token function">brush</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">color</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    color <span class="token operator">=</span> QColorDialog<span class="token operator">::</span><span class="token function">getColor</span><span class="token punctuation">(</span>color<span class="token punctuation">,</span><span class="token constant">NULL</span><span class="token punctuation">,</span><span class="token string">&quot;ѡ�������ɫ&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                  <span class="token comment">//����һ��ģ�庯������</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>color<span class="token punctuation">.</span><span class="token function">isValid</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> item<span class="token operator">-&gt;</span><span class="token function">setBrush</span><span class="token punctuation">(</span><span class="token function">QBrush</span><span class="token punctuation">(</span>color<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

MainWindow<span class="token operator">::</span><span class="token function">MainWindow</span><span class="token punctuation">(</span>QWidget <span class="token operator">*</span>parent<span class="token punctuation">)</span>
    <span class="token operator">:</span> <span class="token function">QMainWindow</span><span class="token punctuation">(</span>parent<span class="token punctuation">)</span>
    <span class="token punctuation">,</span> <span class="token function">ui</span><span class="token punctuation">(</span>new Ui<span class="token operator">::</span>MainWindow<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    ui<span class="token operator">-&gt;</span><span class="token function">setupUi</span><span class="token punctuation">(</span>this<span class="token punctuation">)</span><span class="token punctuation">;</span>

    labViewCord <span class="token operator">=</span> new <span class="token function">QLabel</span><span class="token punctuation">(</span><span class="token string">&quot;View ���꣺&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    labViewCord<span class="token operator">-&gt;</span><span class="token function">setMinimumWidth</span><span class="token punctuation">(</span><span class="token number">150</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    ui<span class="token operator">-&gt;</span>statusbar<span class="token operator">-&gt;</span><span class="token function">addWidget</span><span class="token punctuation">(</span>labViewCord<span class="token punctuation">)</span><span class="token punctuation">;</span>

    labItemCord <span class="token operator">=</span> new <span class="token function">QLabel</span><span class="token punctuation">(</span><span class="token string">&quot;View ���꣺&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    labItemCord<span class="token operator">-&gt;</span><span class="token function">setMinimumWidth</span><span class="token punctuation">(</span><span class="token number">150</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    ui<span class="token operator">-&gt;</span>statusbar<span class="token operator">-&gt;</span><span class="token function">addWidget</span><span class="token punctuation">(</span>labItemCord<span class="token punctuation">)</span><span class="token punctuation">;</span>

    labItemInfo <span class="token operator">=</span> new <span class="token function">QLabel</span><span class="token punctuation">(</span><span class="token string">&quot;View ���꣺&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    labItemInfo<span class="token operator">-&gt;</span><span class="token function">setMinimumWidth</span><span class="token punctuation">(</span><span class="token number">150</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    ui<span class="token operator">-&gt;</span>statusbar<span class="token operator">-&gt;</span><span class="token function">addWidget</span><span class="token punctuation">(</span>labItemInfo<span class="token punctuation">)</span><span class="token punctuation">;</span>

    labSceneCord <span class="token operator">=</span> new <span class="token function">QLabel</span><span class="token punctuation">(</span><span class="token string">&quot;View ���꣺&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    labSceneCord<span class="token operator">-&gt;</span><span class="token function">setMinimumWidth</span><span class="token punctuation">(</span><span class="token number">150</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    ui<span class="token operator">-&gt;</span>statusbar<span class="token operator">-&gt;</span><span class="token function">addWidget</span><span class="token punctuation">(</span>labSceneCord<span class="token punctuation">)</span><span class="token punctuation">;</span>

    scene <span class="token operator">=</span> new <span class="token function">QGraphicsScene</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">300</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">200</span><span class="token punctuation">,</span><span class="token number">600</span><span class="token punctuation">,</span><span class="token number">200</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    ui<span class="token operator">-&gt;</span>graphicsView<span class="token operator">-&gt;</span><span class="token function">setScene</span><span class="token punctuation">(</span>scene<span class="token punctuation">)</span><span class="token punctuation">;</span>
    ui<span class="token operator">-&gt;</span>graphicsView<span class="token operator">-&gt;</span><span class="token function">setCursor</span><span class="token punctuation">(</span>Qt<span class="token operator">::</span>CrossCursor<span class="token punctuation">)</span><span class="token punctuation">;</span>
    ui<span class="token operator">-&gt;</span>graphicsView<span class="token operator">-&gt;</span><span class="token function">setMouseTracking</span><span class="token punctuation">(</span>true<span class="token punctuation">)</span><span class="token punctuation">;</span>
    ui<span class="token operator">-&gt;</span>graphicsView<span class="token operator">-&gt;</span><span class="token function">setDragMode</span><span class="token punctuation">(</span>QGraphicsView<span class="token operator">::</span>RubberBandDrag<span class="token punctuation">)</span><span class="token punctuation">;</span>
    this<span class="token operator">-&gt;</span><span class="token function">setCentralWidget</span><span class="token punctuation">(</span>ui<span class="token operator">-&gt;</span>graphicsView<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token function">connect</span><span class="token punctuation">(</span>ui<span class="token operator">-&gt;</span>graphicsView<span class="token punctuation">,</span><span class="token function">SIGNAL</span><span class="token punctuation">(</span><span class="token function">mouseMovePoint</span><span class="token punctuation">(</span>QPoint<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>this<span class="token punctuation">,</span><span class="token function">SLOT</span><span class="token punctuation">(</span><span class="token function">on_mouseMovePoint</span><span class="token punctuation">(</span>QPoint<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">connect</span><span class="token punctuation">(</span>ui<span class="token operator">-&gt;</span>graphicsView<span class="token punctuation">,</span><span class="token function">SIGNAL</span><span class="token punctuation">(</span><span class="token function">mousePressClicked</span><span class="token punctuation">(</span>QPoint<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>this<span class="token punctuation">,</span><span class="token function">SLOT</span><span class="token punctuation">(</span><span class="token function">on_mouseClicked</span><span class="token punctuation">(</span>QPoint<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">connect</span><span class="token punctuation">(</span>ui<span class="token operator">-&gt;</span>graphicsView<span class="token punctuation">,</span><span class="token function">SIGNAL</span><span class="token punctuation">(</span><span class="token function">mouseDoubleClicked</span><span class="token punctuation">(</span>QPoint<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>this<span class="token punctuation">,</span><span class="token function">SLOT</span><span class="token punctuation">(</span><span class="token function">on_mouseDoubleClick</span><span class="token punctuation">(</span>QPoint<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">connect</span><span class="token punctuation">(</span>ui<span class="token operator">-&gt;</span>graphicsView<span class="token punctuation">,</span><span class="token function">SIGNAL</span><span class="token punctuation">(</span><span class="token function">keyPress</span><span class="token punctuation">(</span>QKeyEvent<span class="token operator">*</span> <span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>this<span class="token punctuation">,</span><span class="token function">SLOT</span><span class="token punctuation">(</span><span class="token function">on_KeyPress</span><span class="token punctuation">(</span>QKeyEvent<span class="token operator">*</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token function">qsrand</span><span class="token punctuation">(</span>QTime<span class="token operator">::</span><span class="token function">currentTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">second</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                        <span class="token comment">// ������仯</span>
<span class="token punctuation">}</span>

MainWindow<span class="token operator">::</span><span class="token operator">~</span><span class="token function">MainWindow</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    delete ui<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// ��ͼ</span>
<span class="token keyword">void</span> MainWindow<span class="token operator">::</span><span class="token function">on_ActRect_triggered</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token comment">// ����һ����Բ</span>
    QGraphicsRectItem<span class="token operator">*</span> item <span class="token operator">=</span> new <span class="token function">QGraphicsRectItem</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">50</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">30</span><span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">,</span><span class="token number">60</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    item<span class="token operator">-&gt;</span><span class="token function">setFlags</span><span class="token punctuation">(</span>QGraphicsItem<span class="token operator">::</span>ItemIsMovable <span class="token operator">|</span> QGraphicsItem<span class="token operator">::</span>ItemIsSelectable <span class="token operator">|</span> QGraphicsItem<span class="token operator">::</span>ItemIsFocusable<span class="token punctuation">)</span><span class="token punctuation">;</span>
    item<span class="token operator">-&gt;</span><span class="token function">setZValue</span><span class="token punctuation">(</span><span class="token operator">++</span>frontZ<span class="token punctuation">)</span><span class="token punctuation">;</span>
    item<span class="token operator">-&gt;</span><span class="token function">setBrush</span><span class="token punctuation">(</span><span class="token function">QBrush</span><span class="token punctuation">(</span>Qt<span class="token operator">::</span>blue<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    item<span class="token operator">-&gt;</span><span class="token function">setPos</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">50</span><span class="token operator">+</span><span class="token punctuation">(</span><span class="token function">qrand</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">%</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">50</span><span class="token operator">+</span><span class="token punctuation">(</span><span class="token function">qrand</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">%</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ��ʼλ��</span>
    item<span class="token operator">-&gt;</span><span class="token function">setData</span><span class="token punctuation">(</span>ItemId<span class="token punctuation">,</span><span class="token operator">++</span>seqNum<span class="token punctuation">)</span><span class="token punctuation">;</span>                         <span class="token comment">//�Զ������ݣ�ItemId��</span>
    item<span class="token operator">-&gt;</span><span class="token function">setData</span><span class="token punctuation">(</span>ItemDesciption<span class="token punctuation">,</span><span class="token string">&quot;������&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    scene<span class="token operator">-&gt;</span><span class="token function">addItem</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span><span class="token punctuation">;</span>
    scene<span class="token operator">-&gt;</span><span class="token function">clearSelection</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    item<span class="token operator">-&gt;</span><span class="token function">setSelected</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">void</span> MainWindow<span class="token operator">::</span><span class="token function">on_acEill_triggered</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token comment">// ����һ����Բ</span>
    QGraphicsEllipseItem<span class="token operator">*</span> item <span class="token operator">=</span> new <span class="token function">QGraphicsEllipseItem</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">50</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">30</span><span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">,</span><span class="token number">60</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    item<span class="token operator">-&gt;</span><span class="token function">setFlags</span><span class="token punctuation">(</span>QGraphicsItem<span class="token operator">::</span>ItemIsMovable <span class="token operator">|</span> QGraphicsItem<span class="token operator">::</span>ItemIsSelectable <span class="token operator">|</span> QGraphicsItem<span class="token operator">::</span>ItemIsFocusable<span class="token punctuation">)</span><span class="token punctuation">;</span>
    item<span class="token operator">-&gt;</span><span class="token function">setZValue</span><span class="token punctuation">(</span><span class="token operator">++</span>frontZ<span class="token punctuation">)</span><span class="token punctuation">;</span>
    item<span class="token operator">-&gt;</span><span class="token function">setBrush</span><span class="token punctuation">(</span><span class="token function">QBrush</span><span class="token punctuation">(</span>Qt<span class="token operator">::</span>blue<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    item<span class="token operator">-&gt;</span><span class="token function">setPos</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">50</span><span class="token operator">+</span><span class="token punctuation">(</span><span class="token function">qrand</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">%</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">50</span><span class="token operator">+</span><span class="token punctuation">(</span><span class="token function">qrand</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">%</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ��ʼλ��</span>
    item<span class="token operator">-&gt;</span><span class="token function">setData</span><span class="token punctuation">(</span>ItemId<span class="token punctuation">,</span><span class="token operator">++</span>seqNum<span class="token punctuation">)</span><span class="token punctuation">;</span>                         <span class="token comment">//�Զ������ݣ�ItemId��</span>
    item<span class="token operator">-&gt;</span><span class="token function">setData</span><span class="token punctuation">(</span>ItemDesciption<span class="token punctuation">,</span><span class="token string">&quot;��Բ&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    scene<span class="token operator">-&gt;</span><span class="token function">addItem</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span><span class="token punctuation">;</span>
    scene<span class="token operator">-&gt;</span><span class="token function">clearSelection</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    item<span class="token operator">-&gt;</span><span class="token function">setSelected</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">void</span> MainWindow<span class="token operator">::</span><span class="token function">on_actCircle_triggered</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token comment">// ����һ����Բ</span>
    QGraphicsEllipseItem<span class="token operator">*</span> item <span class="token operator">=</span> new <span class="token function">QGraphicsEllipseItem</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">50</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">30</span><span class="token punctuation">,</span><span class="token number">60</span><span class="token punctuation">,</span><span class="token number">60</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    item<span class="token operator">-&gt;</span><span class="token function">setFlags</span><span class="token punctuation">(</span>QGraphicsItem<span class="token operator">::</span>ItemIsMovable <span class="token operator">|</span> QGraphicsItem<span class="token operator">::</span>ItemIsSelectable <span class="token operator">|</span> QGraphicsItem<span class="token operator">::</span>ItemIsFocusable<span class="token punctuation">)</span><span class="token punctuation">;</span>
    item<span class="token operator">-&gt;</span><span class="token function">setZValue</span><span class="token punctuation">(</span><span class="token operator">++</span>frontZ<span class="token punctuation">)</span><span class="token punctuation">;</span>
    item<span class="token operator">-&gt;</span><span class="token function">setBrush</span><span class="token punctuation">(</span><span class="token function">QBrush</span><span class="token punctuation">(</span>Qt<span class="token operator">::</span>blue<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    item<span class="token operator">-&gt;</span><span class="token function">setPos</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">50</span><span class="token operator">+</span><span class="token punctuation">(</span><span class="token function">qrand</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">%</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">50</span><span class="token operator">+</span><span class="token punctuation">(</span><span class="token function">qrand</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">%</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ��ʼλ��</span>
    item<span class="token operator">-&gt;</span><span class="token function">setData</span><span class="token punctuation">(</span>ItemId<span class="token punctuation">,</span><span class="token operator">++</span>seqNum<span class="token punctuation">)</span><span class="token punctuation">;</span>                         <span class="token comment">//�Զ������ݣ�ItemId��</span>
    item<span class="token operator">-&gt;</span><span class="token function">setData</span><span class="token punctuation">(</span>ItemDesciption<span class="token punctuation">,</span><span class="token string">&quot;��Բ&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    scene<span class="token operator">-&gt;</span><span class="token function">addItem</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span><span class="token punctuation">;</span>
    scene<span class="token operator">-&gt;</span><span class="token function">clearSelection</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    item<span class="token operator">-&gt;</span><span class="token function">setSelected</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">void</span> MainWindow<span class="token operator">::</span><span class="token function">on_actTri_triggered</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token comment">// ������</span>
    QPolygonF points<span class="token punctuation">;</span>
    points<span class="token operator">&lt;&lt;</span><span class="token function">QPointF</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token operator">&lt;&lt;</span>
        <span class="token function">QPointF</span><span class="token punctuation">(</span><span class="token number">70</span><span class="token punctuation">,</span><span class="token number">80</span><span class="token punctuation">)</span><span class="token operator">&lt;&lt;</span>
        <span class="token function">QPointF</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">,</span><span class="token number">70</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    QGraphicsPolygonItem<span class="token operator">*</span> item <span class="token operator">=</span> new <span class="token function">QGraphicsPolygonItem</span><span class="token punctuation">(</span>points<span class="token punctuation">)</span><span class="token punctuation">;</span>

    item<span class="token operator">-&gt;</span><span class="token function">setFlags</span><span class="token punctuation">(</span>QGraphicsItem<span class="token operator">::</span>ItemIsMovable <span class="token operator">|</span> QGraphicsItem<span class="token operator">::</span>ItemIsSelectable <span class="token operator">|</span> QGraphicsItem<span class="token operator">::</span>ItemIsFocusable<span class="token punctuation">)</span><span class="token punctuation">;</span>
    item<span class="token operator">-&gt;</span><span class="token function">setZValue</span><span class="token punctuation">(</span><span class="token operator">++</span>frontZ<span class="token punctuation">)</span><span class="token punctuation">;</span>
    item<span class="token operator">-&gt;</span><span class="token function">setBrush</span><span class="token punctuation">(</span><span class="token function">QBrush</span><span class="token punctuation">(</span>Qt<span class="token operator">::</span>blue<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    item<span class="token operator">-&gt;</span><span class="token function">setPos</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">50</span><span class="token operator">+</span><span class="token punctuation">(</span><span class="token function">qrand</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">%</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">50</span><span class="token operator">+</span><span class="token punctuation">(</span><span class="token function">qrand</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">%</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ��ʼλ��</span>
    item<span class="token operator">-&gt;</span><span class="token function">setData</span><span class="token punctuation">(</span>ItemId<span class="token punctuation">,</span><span class="token operator">++</span>seqNum<span class="token punctuation">)</span><span class="token punctuation">;</span>                         <span class="token comment">//�Զ������ݣ�ItemId��</span>
    item<span class="token operator">-&gt;</span><span class="token function">setData</span><span class="token punctuation">(</span>ItemDesciption<span class="token punctuation">,</span><span class="token string">&quot;��Բ&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    scene<span class="token operator">-&gt;</span><span class="token function">addItem</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span><span class="token punctuation">;</span>
    scene<span class="token operator">-&gt;</span><span class="token function">clearSelection</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    item<span class="token operator">-&gt;</span><span class="token function">setSelected</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">void</span> MainWindow<span class="token operator">::</span><span class="token function">on_actTra_triggered</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token comment">// ����</span>
    QPolygonF points<span class="token punctuation">;</span>
    points<span class="token operator">&lt;&lt;</span><span class="token function">QPointF</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">200</span><span class="token punctuation">)</span><span class="token operator">&lt;&lt;</span>
        <span class="token function">QPointF</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token operator">&lt;&lt;</span><span class="token function">QPoint</span><span class="token punctuation">(</span><span class="token number">70</span><span class="token punctuation">,</span><span class="token number">50</span><span class="token punctuation">)</span><span class="token operator">&lt;&lt;</span><span class="token function">QPointF</span><span class="token punctuation">(</span><span class="token number">70</span><span class="token punctuation">,</span><span class="token number">200</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    QGraphicsPolygonItem<span class="token operator">*</span> item <span class="token operator">=</span> new <span class="token function">QGraphicsPolygonItem</span><span class="token punctuation">(</span>points<span class="token punctuation">)</span><span class="token punctuation">;</span>

    item<span class="token operator">-&gt;</span><span class="token function">setFlags</span><span class="token punctuation">(</span>QGraphicsItem<span class="token operator">::</span>ItemIsMovable <span class="token operator">|</span> QGraphicsItem<span class="token operator">::</span>ItemIsSelectable <span class="token operator">|</span> QGraphicsItem<span class="token operator">::</span>ItemIsFocusable<span class="token punctuation">)</span><span class="token punctuation">;</span>
    item<span class="token operator">-&gt;</span><span class="token function">setZValue</span><span class="token punctuation">(</span><span class="token operator">++</span>frontZ<span class="token punctuation">)</span><span class="token punctuation">;</span>
    item<span class="token operator">-&gt;</span><span class="token function">setBrush</span><span class="token punctuation">(</span><span class="token function">QBrush</span><span class="token punctuation">(</span>Qt<span class="token operator">::</span>blue<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    item<span class="token operator">-&gt;</span><span class="token function">setPos</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">50</span><span class="token operator">+</span><span class="token punctuation">(</span><span class="token function">qrand</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">%</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">50</span><span class="token operator">+</span><span class="token punctuation">(</span><span class="token function">qrand</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">%</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ��ʼλ��</span>
    item<span class="token operator">-&gt;</span><span class="token function">setData</span><span class="token punctuation">(</span>ItemId<span class="token punctuation">,</span><span class="token operator">++</span>seqNum<span class="token punctuation">)</span><span class="token punctuation">;</span>                         <span class="token comment">//�Զ������ݣ�ItemId��</span>
    item<span class="token operator">-&gt;</span><span class="token function">setData</span><span class="token punctuation">(</span>ItemDesciption<span class="token punctuation">,</span><span class="token string">&quot;��Բ&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    scene<span class="token operator">-&gt;</span><span class="token function">addItem</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span><span class="token punctuation">;</span>
    scene<span class="token operator">-&gt;</span><span class="token function">clearSelection</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    item<span class="token operator">-&gt;</span><span class="token function">setSelected</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">void</span> MainWindow<span class="token operator">::</span><span class="token function">on_actLine_triggered</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token comment">// ����һ����Բ</span>
    QGraphicsLineItem<span class="token operator">*</span> item <span class="token operator">=</span> new <span class="token function">QGraphicsLineItem</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">50</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">30</span><span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">,</span><span class="token number">60</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    item<span class="token operator">-&gt;</span><span class="token function">setFlags</span><span class="token punctuation">(</span>QGraphicsItem<span class="token operator">::</span>ItemIsMovable <span class="token operator">|</span> QGraphicsItem<span class="token operator">::</span>ItemIsSelectable <span class="token operator">|</span> QGraphicsItem<span class="token operator">::</span>ItemIsFocusable<span class="token punctuation">)</span><span class="token punctuation">;</span>
    item<span class="token operator">-&gt;</span><span class="token function">setZValue</span><span class="token punctuation">(</span><span class="token operator">++</span>frontZ<span class="token punctuation">)</span><span class="token punctuation">;</span>
    item<span class="token operator">-&gt;</span><span class="token function">setPos</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">50</span><span class="token operator">+</span><span class="token punctuation">(</span><span class="token function">qrand</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">%</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">50</span><span class="token operator">+</span><span class="token punctuation">(</span><span class="token function">qrand</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">%</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ��ʼλ��</span>
    item<span class="token operator">-&gt;</span><span class="token function">setData</span><span class="token punctuation">(</span>ItemId<span class="token punctuation">,</span><span class="token operator">++</span>seqNum<span class="token punctuation">)</span><span class="token punctuation">;</span>                         <span class="token comment">//�Զ������ݣ�ItemId��</span>
    item<span class="token operator">-&gt;</span><span class="token function">setData</span><span class="token punctuation">(</span>ItemDesciption<span class="token punctuation">,</span><span class="token string">&quot;��Բ&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    scene<span class="token operator">-&gt;</span><span class="token function">addItem</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span><span class="token punctuation">;</span>
    scene<span class="token operator">-&gt;</span><span class="token function">clearSelection</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    item<span class="token operator">-&gt;</span><span class="token function">setSelected</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">void</span> MainWindow<span class="token operator">::</span><span class="token function">on_acTText_triggered</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token comment">// ����һ����Բ</span>
    QGraphicsTextItem<span class="token operator">*</span> item <span class="token operator">=</span> new <span class="token function">QGraphicsTextItem</span><span class="token punctuation">(</span><span class="token string">&quot;�Ұ����й�&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    item<span class="token operator">-&gt;</span><span class="token function">setFlags</span><span class="token punctuation">(</span>QGraphicsItem<span class="token operator">::</span>ItemIsMovable <span class="token operator">|</span> QGraphicsItem<span class="token operator">::</span>ItemIsSelectable <span class="token operator">|</span> QGraphicsItem<span class="token operator">::</span>ItemIsFocusable<span class="token punctuation">)</span><span class="token punctuation">;</span>
    item<span class="token operator">-&gt;</span><span class="token function">setZValue</span><span class="token punctuation">(</span><span class="token operator">++</span>frontZ<span class="token punctuation">)</span><span class="token punctuation">;</span>
    item<span class="token operator">-&gt;</span><span class="token function">setPos</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">50</span><span class="token operator">+</span><span class="token punctuation">(</span><span class="token function">qrand</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">%</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">50</span><span class="token operator">+</span><span class="token punctuation">(</span><span class="token function">qrand</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">%</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ��ʼλ��</span>
    item<span class="token operator">-&gt;</span><span class="token function">setData</span><span class="token punctuation">(</span>ItemId<span class="token punctuation">,</span><span class="token operator">++</span>seqNum<span class="token punctuation">)</span><span class="token punctuation">;</span>                         <span class="token comment">//�Զ������ݣ�ItemId��</span>
    item<span class="token operator">-&gt;</span><span class="token function">setData</span><span class="token punctuation">(</span>ItemDesciption<span class="token punctuation">,</span><span class="token string">&quot;��Բ&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    scene<span class="token operator">-&gt;</span><span class="token function">addItem</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span><span class="token punctuation">;</span>
    scene<span class="token operator">-&gt;</span><span class="token function">clearSelection</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    item<span class="token operator">-&gt;</span><span class="token function">setSelected</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">void</span> MainWindow<span class="token operator">::</span><span class="token function">on_actZoomIn_triggered</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token keyword">int</span> cnt <span class="token operator">=</span> scene<span class="token operator">-&gt;</span><span class="token function">selectedItems</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">count</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>cnt <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        QGraphicsItem<span class="token operator">*</span> item <span class="token operator">=</span> scene<span class="token operator">-&gt;</span><span class="token function">selectedItems</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">at</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        item<span class="token operator">-&gt;</span><span class="token function">setScale</span><span class="token punctuation">(</span><span class="token number">0.1</span><span class="token operator">+</span>item<span class="token operator">-&gt;</span><span class="token function">scale</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                              <span class="token comment">// ����ͼƬ�����ţ����õ���ͼ�������ʾ</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">else</span>
        ui<span class="token operator">-&gt;</span>graphicsView<span class="token operator">-&gt;</span><span class="token function">scale</span><span class="token punctuation">(</span><span class="token number">1.1</span><span class="token punctuation">,</span><span class="token number">1.1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">void</span> MainWindow<span class="token operator">::</span><span class="token function">on_actRecover_triggered</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token keyword">int</span> cnt <span class="token operator">=</span> scene<span class="token operator">-&gt;</span><span class="token function">selectedItems</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">count</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>cnt <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        QGraphicsItem<span class="token operator">*</span> item <span class="token operator">=</span> scene<span class="token operator">-&gt;</span><span class="token function">selectedItems</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">at</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        item<span class="token operator">-&gt;</span><span class="token function">resetTransform</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">else</span> ui<span class="token operator">-&gt;</span>graphicsView<span class="token operator">-&gt;</span><span class="token function">resetTransform</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">void</span> MainWindow<span class="token operator">::</span><span class="token function">on_actLefttran_triggered</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token keyword">int</span> cnt <span class="token operator">=</span> scene<span class="token operator">-&gt;</span><span class="token function">selectedItems</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">count</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>cnt <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        QGraphicsItem<span class="token operator">*</span> item <span class="token operator">=</span> scene<span class="token operator">-&gt;</span><span class="token function">selectedItems</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">at</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        item<span class="token operator">-&gt;</span><span class="token function">setRotation</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">30</span><span class="token operator">+</span>item<span class="token operator">-&gt;</span><span class="token function">rotation</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">else</span> ui<span class="token operator">-&gt;</span>graphicsView<span class="token operator">-&gt;</span><span class="token function">rotate</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">void</span> MainWindow<span class="token operator">::</span><span class="token function">on_actRightTran_triggered</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token keyword">int</span> cnt <span class="token operator">=</span> scene<span class="token operator">-&gt;</span><span class="token function">selectedItems</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">count</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>cnt <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        QGraphicsItem<span class="token operator">*</span> item <span class="token operator">=</span> scene<span class="token operator">-&gt;</span><span class="token function">selectedItems</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">at</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        item<span class="token operator">-&gt;</span><span class="token function">setRotation</span><span class="token punctuation">(</span><span class="token number">30</span><span class="token operator">+</span>item<span class="token operator">-&gt;</span><span class="token function">rotation</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">else</span> ui<span class="token operator">-&gt;</span>graphicsView<span class="token operator">-&gt;</span><span class="token function">rotate</span><span class="token punctuation">(</span><span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">void</span> MainWindow<span class="token operator">::</span><span class="token function">on_actPreposition_triggered</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token keyword">int</span> cnt <span class="token operator">=</span> scene<span class="token operator">-&gt;</span><span class="token function">selectedItems</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">count</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>cnt<span class="token operator">&gt;</span><span class="token number">0</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        QGraphicsItem<span class="token operator">*</span> item <span class="token operator">=</span> scene<span class="token operator">-&gt;</span><span class="token function">selectedItems</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">at</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        item<span class="token operator">-&gt;</span><span class="token function">setZValue</span><span class="token punctuation">(</span><span class="token operator">++</span>frontZ<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">void</span> MainWindow<span class="token operator">::</span><span class="token function">on_actPosition_triggered</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token keyword">int</span> cnt <span class="token operator">=</span> scene<span class="token operator">-&gt;</span><span class="token function">selectedItems</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">count</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>cnt<span class="token operator">&gt;</span><span class="token number">0</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        QGraphicsItem<span class="token operator">*</span> item <span class="token operator">=</span> scene<span class="token operator">-&gt;</span><span class="token function">selectedItems</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">at</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        item<span class="token operator">-&gt;</span><span class="token function">setZValue</span><span class="token punctuation">(</span><span class="token operator">--</span>backZ<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">void</span> MainWindow<span class="token operator">::</span><span class="token function">on_acTCombination_triggered</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token keyword">int</span> cnt <span class="token operator">=</span> scene<span class="token operator">-&gt;</span><span class="token function">selectedItems</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">count</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>cnt<span class="token operator">&gt;</span><span class="token number">1</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        QGraphicsItemGroup<span class="token operator">*</span> group <span class="token operator">=</span> new QGraphicsItemGroup<span class="token punctuation">;</span>

    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>cnt<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        QGraphicsItem<span class="token operator">*</span> item <span class="token operator">=</span> scene<span class="token operator">-&gt;</span><span class="token function">selectedItems</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">at</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        item<span class="token operator">-&gt;</span><span class="token function">setSelected</span><span class="token punctuation">(</span>false<span class="token punctuation">)</span><span class="token punctuation">;</span>
        item<span class="token operator">-&gt;</span><span class="token function">clearFocus</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        group<span class="token operator">-&gt;</span><span class="token function">addToGroup</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    group<span class="token operator">-&gt;</span><span class="token function">setFlags</span><span class="token punctuation">(</span>QGraphicsItem<span class="token operator">::</span>ItemIsMovable <span class="token operator">|</span> QGraphicsItem<span class="token operator">::</span>ItemIsSelectable <span class="token operator">|</span> QGraphicsItem<span class="token operator">::</span>ItemIsFocusable<span class="token punctuation">)</span><span class="token punctuation">;</span>
    group<span class="token operator">-&gt;</span><span class="token function">setZValue</span><span class="token punctuation">(</span><span class="token operator">++</span>frontZ<span class="token punctuation">)</span><span class="token punctuation">;</span>
    scene<span class="token operator">-&gt;</span><span class="token function">clearSelection</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    group<span class="token operator">-&gt;</span><span class="token function">setSelected</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">void</span> MainWindow<span class="token operator">::</span><span class="token function">on_actLoose_triggered</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token keyword">int</span> cnt <span class="token operator">=</span> scene<span class="token operator">-&gt;</span><span class="token function">selectedItems</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">count</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>cnt<span class="token operator">==</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        QGraphicsItemGroup<span class="token operator">*</span> group<span class="token punctuation">;</span>
        group <span class="token operator">=</span> <span class="token punctuation">(</span>QGraphicsItemGroup<span class="token operator">*</span><span class="token punctuation">)</span>scene<span class="token operator">-&gt;</span><span class="token function">selectedItems</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">at</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        scene<span class="token operator">-&gt;</span><span class="token function">destroyItemGroup</span><span class="token punctuation">(</span>group<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">void</span> MainWindow<span class="token operator">::</span><span class="token function">on_actZoomout_triggered</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token keyword">int</span> cnt <span class="token operator">=</span> scene<span class="token operator">-&gt;</span><span class="token function">selectedItems</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">count</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>cnt <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        QGraphicsItem<span class="token operator">*</span> item <span class="token operator">=</span> scene<span class="token operator">-&gt;</span><span class="token function">selectedItems</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">at</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        item<span class="token operator">-&gt;</span><span class="token function">setScale</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">0.1</span><span class="token operator">+</span>item<span class="token operator">-&gt;</span><span class="token function">scale</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">else</span>
        ui<span class="token operator">-&gt;</span>graphicsView<span class="token operator">-&gt;</span><span class="token function">scale</span><span class="token punctuation">(</span><span class="token number">0.9</span><span class="token punctuation">,</span><span class="token number">0.9</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">void</span> MainWindow<span class="token operator">::</span><span class="token function">on_mouseMovePoint</span><span class="token punctuation">(</span>QPoint point<span class="token punctuation">)</span>                       <span class="token comment">// ����ƶ�</span>
<span class="token punctuation">{</span>
    labViewCord<span class="token operator">-&gt;</span><span class="token function">setText</span><span class="token punctuation">(</span>QString<span class="token operator">::</span><span class="token function">asprintf</span><span class="token punctuation">(</span><span class="token string">&quot;View ���꣺%d %d&quot;</span><span class="token punctuation">,</span>point<span class="token punctuation">.</span><span class="token function">x</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>point<span class="token punctuation">.</span><span class="token function">y</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    QPointF pointScene <span class="token operator">=</span> ui<span class="token operator">-&gt;</span>graphicsView<span class="token operator">-&gt;</span><span class="token function">mapToScene</span><span class="token punctuation">(</span>point<span class="token punctuation">)</span><span class="token punctuation">;</span>
    labSceneCord<span class="token operator">-&gt;</span><span class="token function">setText</span><span class="token punctuation">(</span>QString<span class="token operator">::</span><span class="token function">asprintf</span><span class="token punctuation">(</span><span class="token string">&quot;Scene���꣺%0.f,%0.f&quot;</span><span class="token punctuation">,</span>pointScene<span class="token punctuation">.</span><span class="token function">x</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>pointScene<span class="token punctuation">.</span><span class="token function">y</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">void</span> MainWindow<span class="token operator">::</span><span class="token function">on_mouseClicked</span><span class="token punctuation">(</span>QPoint point<span class="token punctuation">)</span>                         <span class="token comment">// ��굥��</span>
<span class="token punctuation">{</span>
    <span class="token comment">// ��굥���¼�</span>
    QPointF pointScene <span class="token operator">=</span> ui<span class="token operator">-&gt;</span>graphicsView<span class="token operator">-&gt;</span><span class="token function">mapToScene</span><span class="token punctuation">(</span>point<span class="token punctuation">)</span><span class="token punctuation">;</span>
    QGraphicsItem<span class="token operator">*</span> item <span class="token operator">=</span> nullptr<span class="token punctuation">;</span>
    item <span class="token operator">=</span> scene<span class="token operator">-&gt;</span><span class="token function">itemAt</span><span class="token punctuation">(</span>pointScene<span class="token punctuation">,</span>ui<span class="token operator">-&gt;</span>graphicsView<span class="token operator">-&gt;</span><span class="token function">transform</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     <span class="token comment">//ͼ����ֲ�����</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>item <span class="token operator">!=</span> <span class="token constant">NULL</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        QPointF pointItem <span class="token operator">=</span> item<span class="token operator">-&gt;</span><span class="token function">mapFromScene</span><span class="token punctuation">(</span>pointScene<span class="token punctuation">)</span><span class="token punctuation">;</span>             <span class="token comment">// ͼ����ֲ�����</span>
        labItemCord<span class="token operator">-&gt;</span><span class="token function">setText</span><span class="token punctuation">(</span>QString<span class="token operator">::</span><span class="token function">asprintf</span><span class="token punctuation">(</span><span class="token string">&quot;Item ����:%0.f,%0.f&quot;</span><span class="token punctuation">,</span>pointItem<span class="token punctuation">.</span><span class="token function">x</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>pointItem<span class="token punctuation">.</span><span class="token function">y</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        labItemInfo<span class="token operator">-&gt;</span><span class="token function">setText</span><span class="token punctuation">(</span>item<span class="token operator">-&gt;</span><span class="token function">data</span><span class="token punctuation">(</span>ItemDesciption<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token string">&quot;��ItemId=&quot;</span> <span class="token operator">+</span> item<span class="token operator">-&gt;</span><span class="token function">data</span><span class="token punctuation">(</span>ItemId<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    item<span class="token operator">-&gt;</span><span class="token function">setSelected</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token punctuation">}</span>
<span class="token keyword">void</span> MainWindow<span class="token operator">::</span><span class="token function">on_mouseDoubleClick</span><span class="token punctuation">(</span>QPoint point<span class="token punctuation">)</span>                    <span class="token comment">// ���˫��</span>
<span class="token punctuation">{</span>
    QPointF pointScene <span class="token operator">=</span> ui<span class="token operator">-&gt;</span>graphicsView<span class="token operator">-&gt;</span><span class="token function">mapToScene</span><span class="token punctuation">(</span>point<span class="token punctuation">)</span><span class="token punctuation">;</span>
    QGraphicsItem<span class="token operator">*</span> item <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>
    item <span class="token operator">=</span> scene<span class="token operator">-&gt;</span><span class="token function">itemAt</span><span class="token punctuation">(</span>pointScene<span class="token punctuation">,</span>ui<span class="token operator">-&gt;</span>graphicsView<span class="token operator">-&gt;</span><span class="token function">transform</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>item<span class="token operator">==</span><span class="token constant">NULL</span><span class="token punctuation">)</span> <span class="token keyword">return</span><span class="token punctuation">;</span>

    <span class="token keyword">switch</span> <span class="token punctuation">(</span>item<span class="token operator">-&gt;</span><span class="token function">type</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">case</span> QGraphicsRectItem<span class="token operator">::</span>Type<span class="token operator">:</span>
    <span class="token punctuation">{</span><span class="token comment">// ǿ������ת��</span>
        QGraphicsRectItem<span class="token operator">*</span> theItem<span class="token punctuation">;</span>
        theItem <span class="token operator">=</span> qgraphicsitem_cast<span class="token operator">&lt;</span>QGraphicsRectItem<span class="token operator">*</span><span class="token operator">&gt;</span> <span class="token punctuation">(</span>item<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">setBrushColor</span><span class="token punctuation">(</span>theItem<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">break</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">case</span> QGraphicsEllipseItem<span class="token operator">::</span>Type<span class="token operator">:</span>
    <span class="token punctuation">{</span><span class="token comment">// ǿ������ת��</span>
        QGraphicsEllipseItem<span class="token operator">*</span> theItem<span class="token punctuation">;</span>
        theItem <span class="token operator">=</span> qgraphicsitem_cast<span class="token operator">&lt;</span>QGraphicsEllipseItem<span class="token operator">*</span><span class="token operator">&gt;</span> <span class="token punctuation">(</span>item<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">setBrushColor</span><span class="token punctuation">(</span>theItem<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">break</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">case</span> QGraphicsPolygonItem<span class="token operator">::</span>Type<span class="token operator">:</span>
    <span class="token punctuation">{</span><span class="token comment">// ǿ������ת��</span>
        QGraphicsPolygonItem<span class="token operator">*</span> theItem<span class="token punctuation">;</span>
        theItem <span class="token operator">=</span> qgraphicsitem_cast<span class="token operator">&lt;</span>QGraphicsPolygonItem<span class="token operator">*</span><span class="token operator">&gt;</span> <span class="token punctuation">(</span>item<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">setBrushColor</span><span class="token punctuation">(</span>theItem<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">break</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">case</span> QGraphicsLineItem<span class="token operator">::</span>Type<span class="token operator">:</span>
    <span class="token punctuation">{</span><span class="token comment">// ǿ������ת��</span>
        QGraphicsLineItem<span class="token operator">*</span> theItem<span class="token punctuation">;</span>
        theItem <span class="token operator">=</span> qgraphicsitem_cast<span class="token operator">&lt;</span>QGraphicsLineItem<span class="token operator">*</span><span class="token operator">&gt;</span> <span class="token punctuation">(</span>item<span class="token punctuation">)</span><span class="token punctuation">;</span>
        QPen pen <span class="token operator">=</span> theItem<span class="token operator">-&gt;</span><span class="token function">pen</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        QColor color <span class="token operator">=</span> theItem<span class="token operator">-&gt;</span><span class="token function">pen</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">color</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        color <span class="token operator">=</span> QColorDialog<span class="token operator">::</span><span class="token function">getColor</span><span class="token punctuation">(</span>color<span class="token punctuation">,</span>this<span class="token punctuation">,</span><span class="token string">&quot;ѡ��������ɫ&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>color<span class="token punctuation">.</span><span class="token function">isValid</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            pen<span class="token punctuation">.</span><span class="token function">setColor</span><span class="token punctuation">(</span>color<span class="token punctuation">)</span><span class="token punctuation">;</span>
            theItem<span class="token operator">-&gt;</span><span class="token function">setPen</span><span class="token punctuation">(</span>pen<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">break</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">case</span> QGraphicsTextItem<span class="token operator">::</span>Type<span class="token operator">:</span>
    <span class="token punctuation">{</span><span class="token comment">// ǿ������ת��</span>
        QGraphicsTextItem<span class="token operator">*</span> theItem<span class="token punctuation">;</span>
        theItem <span class="token operator">=</span> qgraphicsitem_cast<span class="token operator">&lt;</span>QGraphicsTextItem<span class="token operator">*</span><span class="token operator">&gt;</span> <span class="token punctuation">(</span>item<span class="token punctuation">)</span><span class="token punctuation">;</span>
        QFont font <span class="token operator">=</span> theItem<span class="token operator">-&gt;</span><span class="token function">font</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        bool ok <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
        font <span class="token operator">=</span> QFontDialog<span class="token operator">::</span><span class="token function">getFont</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>ok<span class="token punctuation">,</span>font<span class="token punctuation">,</span>this<span class="token punctuation">,</span><span class="token string">&quot;��������&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>ok<span class="token punctuation">)</span> theItem<span class="token operator">-&gt;</span><span class="token function">setFont</span><span class="token punctuation">(</span>font<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">break</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">void</span> MainWindow<span class="token operator">::</span><span class="token function">on_KeyPress</span><span class="token punctuation">(</span>QKeyEvent<span class="token operator">*</span> event<span class="token punctuation">)</span>                             <span class="token comment">// ����</span>
<span class="token punctuation">{</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>scene<span class="token operator">-&gt;</span><span class="token function">selectedItems</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">count</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">!=</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token keyword">return</span><span class="token punctuation">;</span>

    QGraphicsItem<span class="token operator">*</span> item <span class="token operator">=</span> scene<span class="token operator">-&gt;</span><span class="token function">selectedItems</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">at</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">if</span><span class="token punctuation">(</span>event<span class="token operator">-&gt;</span><span class="token function">key</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> Qt<span class="token operator">::</span>Key_Delete<span class="token punctuation">)</span> scene<span class="token operator">-&gt;</span><span class="token function">removeItem</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span>event<span class="token operator">-&gt;</span><span class="token function">key</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> Qt<span class="token operator">::</span>Key_Space<span class="token punctuation">)</span> item<span class="token operator">-&gt;</span><span class="token function">setRotation</span><span class="token punctuation">(</span><span class="token number">90</span><span class="token operator">+</span>item<span class="token operator">-&gt;</span><span class="token function">rotation</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span>event<span class="token operator">-&gt;</span><span class="token function">key</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> Qt<span class="token operator">::</span>Key_PageUp<span class="token punctuation">)</span> item<span class="token operator">-&gt;</span><span class="token function">setScale</span><span class="token punctuation">(</span><span class="token number">0.1</span><span class="token operator">+</span>item<span class="token operator">-&gt;</span><span class="token function">scale</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span>event<span class="token operator">-&gt;</span><span class="token function">key</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> Qt<span class="token operator">::</span>Key_PageDown<span class="token punctuation">)</span> item<span class="token operator">-&gt;</span><span class="token function">setScale</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">0.1</span><span class="token operator">+</span>item<span class="token operator">-&gt;</span><span class="token function">scale</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span>event<span class="token operator">-&gt;</span><span class="token function">key</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> Qt<span class="token operator">::</span>Key_Left<span class="token punctuation">)</span> item<span class="token operator">-&gt;</span><span class="token function">setX</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">1</span><span class="token operator">+</span>item<span class="token operator">-&gt;</span><span class="token function">x</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span>event<span class="token operator">-&gt;</span><span class="token function">key</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> Qt<span class="token operator">::</span>Key_Right<span class="token punctuation">)</span> item<span class="token operator">-&gt;</span><span class="token function">setX</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token operator">+</span>item<span class="token operator">-&gt;</span><span class="token function">x</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span>event<span class="token operator">-&gt;</span><span class="token function">key</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> Qt<span class="token operator">::</span>Key_Up<span class="token punctuation">)</span> item<span class="token operator">-&gt;</span><span class="token function">setY</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">1</span><span class="token operator">+</span>item<span class="token operator">-&gt;</span><span class="token function">y</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span>event<span class="token operator">-&gt;</span><span class="token function">key</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> Qt<span class="token operator">::</span>Key_Down<span class="token punctuation">)</span> item<span class="token operator">-&gt;</span><span class="token function">setY</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token operator">+</span>item<span class="token operator">-&gt;</span><span class="token function">y</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// �滭�������Ѷȵ�</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="���һ����l·���ܽ�" tabindex="-1"><a class="header-anchor" href="#���һ����l·���ܽ�" aria-hidden="true">#</a> ���һ����Ŀ���ܽ�</h3><ul><li><p>����ȡ��ͼ��ѡ��</p></li><li><p>ͼ��������ѡ��</p></li><li><p>QGraphicViewû�����ȵȵ��¼���</p></li><li><p>ɾ���ļ���ʱ��pro������// �ᵼ�±����ʱ���Ҳ���Դ�ļ�</p></li><li><p>���Ͱ���������û��ʱ�䣬�����ɲ���moc�ļ�</p></li><li><p>����ƶ��Ͱ����ƶ����ձ��д�����ٵ����Լ�һ�Σ�ʵ���ǲ���Ҫ������</p></li></ul>`,24),e=[o];function c(i,l){return s(),a("div",null,e)}const r=n(p,[["render",c],["__file","paint.html.vue"]]);export{r as default};
